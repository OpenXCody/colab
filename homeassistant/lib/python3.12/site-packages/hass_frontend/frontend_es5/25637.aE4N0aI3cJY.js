"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[25637,37382,41525,20534],{72586:function(e,t,n){var r=n(1781).A,i=n(94881).A;n.a(e,function(){var e=r(i().mark((function e(r,a){var s,o,c,l,u,d,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.d(t,{EO:function(){return h},ol:function(){return u},xo:function(){return d}}),s=n(71460),o=n(25786),!(c=r([s])).then){e.next=12;break}return e.next=8,c;case 8:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=13;break;case 12:e.t0=c;case 13:s=e.t0[0],l=function(e,t,n,r){var i=n((0,s.L_)(e,t),r);return i instanceof Date?(0,s.uk)(i,t):i},u=function(e,t,n,r,i){return n.time_zone===o.Wj.server?l(e,r.time_zone,t,i):t(e,i)},d=function(e,t,n,r,i){return n.time_zone===o.Wj.server?l(e,r.time_zone,t,i):t(e,i)},h=function(e,t,n,r,i){return d(e,n,r,i,r.time_zone===o.Wj.server?(0,s.L_)(t,i.time_zone):t)},a(),e.next=24;break;case 21:e.prev=21,e.t2=e.catch(0),a(e.t2);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t,n){return e.apply(this,arguments)}}())},4:function(e,t,n){var r=n(1781).A,i=n(94881).A;n.a(e,function(){var e=r(i().mark((function e(r,a){var s,o,c,l,u,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.d(t,{B:function(){return u},p:function(){return d}}),s=n(71936),o=n(92840),c=n(45081),!(l=r([o])).then){e.next=14;break}return e.next=10,l;case 10:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=15;break;case 14:e.t0=l;case 15:o=e.t0[0],u=(0,c.A)((function(e,t){for(var n=[],r=new Intl.DateTimeFormat(e,{weekday:t?"short":"long",timeZone:"UTC"}),i=0;i<7;i++){var a=new Date(Date.UTC(1970,0,4+i));n.push(r.format(a))}return n})),d=(0,c.A)((function(e,t){for(var n=[],r=new Intl.DateTimeFormat(e,{month:t?"short":"long",timeZone:"UTC"}),i=0;i<12;i++){var a=new Date(Date.UTC(1970,0+i,1));n.push(r.format(a))}return n})),a(),e.next=24;break;case 21:e.prev=21,e.t2=e.catch(0),a(e.t2);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t,n){return e.apply(this,arguments)}}())},55279:function(e,t,n){n.d(t,{L:function(){return s},t:function(){return a}});n(650);var r={10:"mdi:battery-10",20:"mdi:battery-20",30:"mdi:battery-30",40:"mdi:battery-40",50:"mdi:battery-50",60:"mdi:battery-60",70:"mdi:battery-70",80:"mdi:battery-80",90:"mdi:battery-90",100:"mdi:battery"},i={10:"mdi:battery-charging-10",20:"mdi:battery-charging-20",30:"mdi:battery-charging-30",40:"mdi:battery-charging-40",50:"mdi:battery-charging-50",60:"mdi:battery-charging-60",70:"mdi:battery-charging-70",80:"mdi:battery-charging-80",90:"mdi:battery-charging-90",100:"mdi:battery-charging"},a=function(e,t){var n=null!=t?t:e.state;return s(n)},s=function(e,t){var n=Number(e);if(isNaN(n))return"off"===e?"mdi:battery":"on"===e?"mdi:battery-alert":"mdi:battery-unknown";var a=10*Math.round(n/10);return t&&n>=10?i[a]:t?"mdi:battery-charging-outline":n<=5?"mdi:battery-alert-variant-outline":r[a]}},47186:function(e,t,n){n.d(t,{$:function(){return i}});var r=n(66123),i=(n(71936),function(e,t){var n,i={},a=(0,r.A)(e);try{for(a.s();!(n=a.n()).done;){var s=n.value,o=t(s);o in i?i[o].push(s):i[o]=[s]}}catch(c){a.e(c)}finally{a.f()}return i})},27832:function(e,t,n){var r=n(1781).A,i=n(94881).A;n.a(e,function(){var e=r(i().mark((function e(t,r){var a,s,o,c,l,u,d,h,f,p,g,v,m,y,_,k,b,x,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=n(36683),s=n(89231),o=n(29864),c=n(83647),l=n(8364),u=n(650),d=n(28524),h=n(196),f=n(43057),p=n(87898),g=n.n(p),v=n(32230),m=n(77664),y=n(4),_=n(51150),!(k=t([y])).then){e.next=25;break}return e.next=21,k;case 21:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=26;break;case 25:e.t0=k;case 26:y=e.t0[0],b=f.Ay.extend({mixins:[g()],methods:{selectMonthDate:function(){var e=this.end||new Date;this.changeLeftMonth({year:e.getFullYear(),month:e.getMonth()+1})},hoverDate:function(e){if(!this.readonly){if(this.in_selection){var t=this.in_selection,n=e;this.start=this.normalizeDatetime(Math.min(t.valueOf(),n.valueOf()),this.start),this.end=this.normalizeDatetime(Math.max(t.valueOf(),n.valueOf()),this.end)}this.$emit("hover-date",e)}}}}),x=f.Ay.extend({props:{timePicker:{type:Boolean,default:!0},twentyfourHours:{type:Boolean,default:!0},openingDirection:{type:String,default:"right"},disabled:{type:Boolean,default:!1},ranges:{type:Boolean,default:!0},startDate:{type:[String,Date],default:function(){return new Date}},endDate:{type:[String,Date],default:function(){return new Date}},firstDay:{type:Number,default:1},autoApply:{type:Boolean,default:!1},language:{type:String,default:"en"}},render:function(e){var t=this;return e(b,{props:{"time-picker":this.timePicker,"auto-apply":this.autoApply,opens:this.openingDirection,"show-dropdowns":!1,"time-picker24-hour":this.twentyfourHours,disabled:this.disabled,ranges:!!this.ranges&&{},"locale-data":{firstDay:this.firstDay,daysOfWeek:(0,y.B)(this.language,!0),monthNames:(0,y.p)(this.language,!1)}},model:{value:{startDate:this.startDate,endDate:this.endDate},callback:function(e){(0,m.r)(t.$el,"change",e)},expression:"dateRange"},scopedSlots:{input:function(){return e("slot",{domProps:{name:"input"}})},header:function(){return e("slot",{domProps:{name:"header"}})},ranges:function(){return e("slot",{domProps:{name:"ranges"}})},footer:function(){return e("slot",{domProps:{name:"footer"}})}}})}}),w=(0,d.A)(f.Ay,x),(0,l.A)([(0,h.EM)("date-range-picker")],(function(e,t){return{F:function(t){function n(){var t;(0,s.A)(this,n),t=(0,o.A)(this,n),e(t);var r=document.createElement("style");r.innerHTML="\n          ".concat(v,"\n          .calendars {\n            display: flex;\n            flex-wrap: nowrap !important;\n          }\n          .daterangepicker {\n            top: auto;\n            box-shadow: var(--ha-card-box-shadow, none);\n            background-color: var(--card-background-color);\n            border-radius: var(--ha-card-border-radius, 12px);\n            border-width: var(--ha-card-border-width, 1px);\n            border-style: solid;\n            border-color: var(\n              --ha-card-border-color,\n              var(--divider-color, #e0e0e0)\n            );\n            color: var(--primary-text-color);\n            min-width: initial !important;\n            max-height: var(--date-range-picker-max-height);\n            overflow-y: auto;\n                      }\n          .daterangepicker:before {\n            display: none;\n          }\n          .daterangepicker:after {\n            border-bottom: 6px solid var(--card-background-color);\n          }\n          .daterangepicker .calendar-table {\n            background-color: var(--card-background-color);\n            border: none;\n          }\n          .daterangepicker .calendar-table td,\n          .daterangepicker .calendar-table th {\n            background-color: transparent;\n            color: var(--secondary-text-color);\n            border-radius: 0;\n            outline: none;\n            min-width: 32px;\n            height: 32px;\n          }\n          .daterangepicker td.off,\n          .daterangepicker td.off.end-date,\n          .daterangepicker td.off.in-range,\n          .daterangepicker td.off.start-date {\n            background-color: var(--secondary-background-color);\n            color: var(--disabled-text-color);\n          }\n          .daterangepicker td.in-range {\n            background-color: var(--light-primary-color);\n            color: var(--text-light-primary-color, var(--primary-text-color));\n          }\n          .daterangepicker td.active,\n          .daterangepicker td.active:hover {\n            background-color: var(--primary-color);\n            color: var(--text-primary-color);\n          }\n          .daterangepicker td.start-date.end-date {\n            border-radius: 50%;\n          }\n          .daterangepicker td.start-date {\n            border-radius: 50% 0 0 50%;\n          }\n          .daterangepicker td.end-date {\n            border-radius: 0 50% 50% 0;\n          }\n          .reportrange-text {\n            background: none !important;\n            padding: 0 !important;\n            border: none !important;\n          }\n          .daterangepicker .calendar-table .next span,\n          .daterangepicker .calendar-table .prev span {\n            border: solid var(--primary-text-color);\n            border-width: 0 2px 2px 0;\n          }\n          .daterangepicker .ranges li {\n            outline: none;\n          }\n          .daterangepicker .ranges li:hover {\n            background-color: var(--secondary-background-color);\n          }\n          .daterangepicker .ranges li.active {\n            background-color: var(--primary-color);\n            color: var(--text-primary-color);\n          }\n          .daterangepicker select.ampmselect,\n          .daterangepicker select.hourselect,\n          .daterangepicker select.minuteselect,\n          .daterangepicker select.secondselect {\n            background: transparent;\n            border: 1px solid var(--divider-color);\n            color: var(--primary-color);\n          }\n          .daterangepicker .drp-buttons .btn {\n            border: 1px solid var(--primary-color);\n            background-color: transparent;\n            color: var(--primary-color);\n            border-radius: 4px;\n            padding: 8px;\n            cursor: pointer;\n          }\n          .calendars-container {\n            flex-direction: column;\n            align-items: center;\n          }\n          .drp-calendar.col.right .calendar-table {\n            display: none;\n          }\n          .daterangepicker.show-ranges .drp-calendar.left {\n            border-left: 0px;\n          }\n          .daterangepicker .drp-calendar.left {\n            padding: 8px;\n            width: unset;\n            max-width: unset;\n            min-width: 270px;\n          }\n          .daterangepicker.show-calendar .ranges {\n            margin-top: 0;\n            padding-top: 8px;\n            border-right: 1px solid var(--divider-color);\n          }\n          @media only screen and (max-width: 800px) {\n            .calendars {\n              flex-direction: column;\n            }\n          }\n          .calendar-table {\n            padding: 0 !important;\n          }\n          .calendar-time {\n            direction: ltr;\n          }\n          .daterangepicker.ltr {\n            direction: var(--direction);\n            text-align: var(--float-start);\n          }\n          .vue-daterange-picker{\n            min-width: unset !important;\n            display: block !important;\n          }\n        "),"rtl"===_.G.document.dir&&(r.innerHTML+="\n            .daterangepicker .calendar-table .next span {\n              transform: rotate(135deg);\n              -webkit-transform: rotate(135deg);\n            }\n            .daterangepicker .calendar-table .prev span {\n              transform: rotate(-45deg);\n              -webkit-transform: rotate(-45deg);\n            }\n            .daterangepicker td.start-date {\n              border-radius: 0 50% 50% 0;\n            }\n            .daterangepicker td.end-date {\n              border-radius: 50% 0 0 50%;\n            }\n            ");var i=t.shadowRoot;return i.appendChild(r),i.addEventListener("click",(function(e){return e.stopPropagation()})),t}return(0,c.A)(n,t),(0,a.A)(n)}(t),d:[]}}),w),r(),e.next=37;break;case 34:e.prev=34,e.t2=e.catch(0),r(e.t2);case 37:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(t,n){return e.apply(this,arguments)}}())},24630:function(e,t,n){var r,i=n(6238),a=n(94881),s=n(1781),o=n(36683),c=n(89231),l=n(29864),u=n(83647),d=n(8364),h=n(76504),f=n(80792),p=(n(77052),n(40924)),g=n(87565),v=n(56220),m=n(45592),y=n(196),_=n(77664);(0,d.A)([(0,y.EM)("ha-check-list-item")],(function(e,t){var n,d=function(t){function n(){var t;(0,c.A)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=(0,l.A)(this,n,[].concat(i)),e(t),t}return(0,u.A)(n,t),(0,o.A)(n)}(t);return{F:d,d:[{kind:"method",key:"onChange",value:(n=(0,s.A)((0,a.A)().mark((function e(t){return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,h.A)((0,f.A)(d.prototype),"onChange",this).call(this,t),(0,_.r)(this,t.type);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{kind:"field",static:!0,key:"styles",value:function(){return[m.R,v.R,(0,p.AH)(r||(r=(0,i.A)([":host{--mdc-theme-secondary:var(--primary-color)}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic,:host([graphic=control]) .mdc-deprecated-list-item__graphic,:host([graphic=large]) .mdc-deprecated-list-item__graphic,:host([graphic=medium]) .mdc-deprecated-list-item__graphic{margin-inline-end:var(--mdc-list-item-graphic-margin,16px);margin-inline-start:0px;direction:var(--direction)}.mdc-deprecated-list-item__meta{flex-shrink:0;direction:var(--direction);margin-inline-start:auto;margin-inline-end:0}.mdc-deprecated-list-item__graphic{margin-top:var(--check-list-item-graphic-margin-top)}:host([graphic=icon]) .mdc-deprecated-list-item__graphic{margin-inline-start:0;margin-inline-end:var(--mdc-list-item-graphic-margin,32px)}"])))]}}]}}),g.h)},20534:function(e,t,n){var r=n(1781).A,i=n(94881).A;n.a(e,function(){var e=r(i().mark((function e(t,r){var a,s,o,c,l,u,d,h,f,p,g,v,m,y,_,k,b,x,w,A,D,S,O,E,C,P,z,M,R,T,H,W,L,j,Z,q,V,B,I,N,F,U;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=n(6238),s=n(23141),o=n(36683),c=n(89231),l=n(29864),u=n(83647),d=n(8364),h=n(77052),f=n(36724),p=n(43859),g=n(1158),v=n(84368),m=n(98168),n(34069),n(29805),n(23981),y=n(56994),_=n(70249),k=n(93352),b=n(79113),x=n(94061),w=n(21748),A=n(3889),D=n(39937),S=n(11213),O=n(27890),E=n(13802),C=n(40924),P=n(196),z=n(79278),M=n(72586),R=n(15263),T=n(77396),H=n(64854),W=n(97484),L=n(27832),n(12731),n(1683),n(42398),!(j=t([M,R,T,H,L])).then){e.next=54;break}return e.next=50,j;case 50:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=55;break;case 54:e.t0=j;case 55:Z=e.t0,M=Z[0],R=Z[1],T=Z[2],H=Z[3],L=Z[4],U="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z",(0,d.A)([(0,P.EM)("ha-date-range-picker")],(function(e,t){var n=function(t){function n(){var t;(0,c.A)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=(0,l.A)(this,n,[].concat(i)),e(t),t}return(0,u.A)(n,t),(0,o.A)(n)}(t);return{F:n,d:[{kind:"field",decorators:[(0,P.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,P.MZ)({attribute:!1})],key:"startDate",value:void 0},{kind:"field",decorators:[(0,P.MZ)({attribute:!1})],key:"endDate",value:void 0},{kind:"field",decorators:[(0,P.MZ)({attribute:!1})],key:"ranges",value:void 0},{kind:"field",decorators:[(0,P.wk)()],key:"_ranges",value:void 0},{kind:"field",decorators:[(0,P.MZ)({type:Boolean})],key:"autoApply",value:function(){return!1}},{kind:"field",decorators:[(0,P.MZ)({type:Boolean})],key:"timePicker",value:function(){return!0}},{kind:"field",decorators:[(0,P.MZ)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,P.MZ)({type:Boolean})],key:"minimal",value:function(){return!1}},{kind:"field",decorators:[(0,P.wk)()],key:"_hour24format",value:function(){return!1}},{kind:"field",decorators:[(0,P.MZ)({type:Boolean})],key:"extendedPresets",value:function(){return!1}},{kind:"field",decorators:[(0,P.MZ)()],key:"openingDirection",value:void 0},{kind:"field",decorators:[(0,P.wk)()],key:"_calcedOpeningDirection",value:void 0},{kind:"method",key:"willUpdate",value:function(e){var t,n;if(!this.hasUpdated&&void 0===this.ranges||e.has("hass")&&(null===(t=this.hass)||void 0===t?void 0:t.localize)!==(null===(n=e.get("hass"))||void 0===n?void 0:n.localize)){var r=new Date,i=(0,R.PE)(this.hass.locale),a=(0,M.ol)(r,y.k,this.hass.locale,this.hass.config,{weekStartsOn:i}),o=(0,M.ol)(r,_.$,this.hass.locale,this.hass.config,{weekStartsOn:i});this._ranges=Object.assign((0,s.A)((0,s.A)((0,s.A)((0,s.A)({},this.hass.localize("ui.components.date-range-picker.ranges.today"),[(0,M.ol)(r,k.o,this.hass.locale,this.hass.config,{weekStartsOn:i}),(0,M.ol)(r,b.D,this.hass.locale,this.hass.config,{weekStartsOn:i})]),this.hass.localize("ui.components.date-range-picker.ranges.yesterday"),[(0,M.ol)((0,x.f)(r,-1),k.o,this.hass.locale,this.hass.config,{weekStartsOn:i}),(0,M.ol)((0,x.f)(r,-1),b.D,this.hass.locale,this.hass.config,{weekStartsOn:i})]),this.hass.localize("ui.components.date-range-picker.ranges.this_week"),[a,o]),this.hass.localize("ui.components.date-range-picker.ranges.last_week"),[(0,x.f)(a,-7),(0,x.f)(o,-7)]),this.extendedPresets?(0,s.A)((0,s.A)((0,s.A)((0,s.A)({},this.hass.localize("ui.components.date-range-picker.ranges.this_month"),[(0,M.ol)(r,w.w,this.hass.locale,this.hass.config,{weekStartsOn:i}),(0,M.ol)(r,A.p,this.hass.locale,this.hass.config,{weekStartsOn:i})]),this.hass.localize("ui.components.date-range-picker.ranges.last_month"),[(0,M.ol)((0,D.P)(r,-1),w.w,this.hass.locale,this.hass.config,{weekStartsOn:i}),(0,M.ol)((0,D.P)(r,-1),A.p,this.hass.locale,this.hass.config,{weekStartsOn:i})]),this.hass.localize("ui.components.date-range-picker.ranges.this_year"),[(0,M.ol)(r,S.D,this.hass.locale,this.hass.config,{weekStartsOn:i}),(0,M.ol)(r,O.Q,this.hass.locale,this.hass.config,{weekStartsOn:i})]),this.hass.localize("ui.components.date-range-picker.ranges.last_year"),[(0,M.ol)((0,E.e)(r,-1),S.D,this.hass.locale,this.hass.config,{weekStartsOn:i}),(0,M.ol)((0,E.e)(r,-1),O.Q,this.hass.locale,this.hass.config,{weekStartsOn:i})]):{})}}},{kind:"method",key:"updated",value:function(e){if(e.has("hass")){var t=e.get("hass");t&&t.locale===this.hass.locale||(this._hour24format=!(0,W.J)(this.hass.locale))}}},{kind:"method",key:"render",value:function(){return(0,C.qy)(q||(q=(0,a.A)([' <date-range-picker ?disabled="','" ?auto-apply="','" time-picker="','" twentyfour-hours="','" start-date="','" end-date="','" ?ranges="','" opening-direction="','" first-day="','" language="','"> <div slot="input" class="date-range-inputs" @click="','"> '," </div> ",' <div slot="footer" class="date-range-footer"> <mwc-button @click="','">','</mwc-button> <mwc-button @click="','">',"</mwc-button> </div> </date-range-picker> "])),this.disabled,this.autoApply,this.timePicker,this._hour24format,this.startDate.toISOString(),this.endDate.toISOString(),!1!==this.ranges,(0,z.J)(this.openingDirection||this._calcedOpeningDirection),(0,R.PE)(this.hass.locale),this.hass.locale.language,this._handleClick,this.minimal?(0,C.qy)(B||(B=(0,a.A)(['<ha-icon-button .label="','" .path="','"></ha-icon-button>'])),this.hass.localize("ui.components.date-range-picker.select_date_range"),U):(0,C.qy)(V||(V=(0,a.A)(['<ha-svg-icon .path="','"></ha-svg-icon> <ha-textfield .value="','" .label="','" .disabled="','" @click="','" readonly="readonly"></ha-textfield> <ha-textfield .value="','" .label="','" .disabled="','" @click="','" readonly="readonly"></ha-textfield>'])),U,this.timePicker?(0,H.r6)(this.startDate,this.hass.locale,this.hass.config):(0,T.Yq)(this.startDate,this.hass.locale,this.hass.config),this.hass.localize("ui.components.date-range-picker.start_date"),this.disabled,this._handleInputClick,this.timePicker?(0,H.r6)(this.endDate,this.hass.locale,this.hass.config):(0,T.Yq)(this.endDate,this.hass.locale,this.hass.config),this.hass.localize("ui.components.date-range-picker.end_date"),this.disabled,this._handleInputClick),!1!==this.ranges&&(this.ranges||this._ranges)?(0,C.qy)(I||(I=(0,a.A)(['<div slot="ranges" class="date-range-ranges"> <mwc-list @action="','" activatable> '," </mwc-list> </div>"])),this._setDateRange,Object.keys(this.ranges||this._ranges).map((function(e){return(0,C.qy)(N||(N=(0,a.A)(["<mwc-list-item>","</mwc-list-item>"])),e)}))):C.s6,this._cancelDateRange,this.hass.localize("ui.common.cancel"),this._applyDateRange,this.hass.localize("ui.components.date-range-picker.select"))}},{kind:"method",key:"_setDateRange",value:function(e){var t=Object.values(this.ranges||this._ranges)[e.detail.index],n=this._dateRangePicker;n.clickRange(t),n.clickedApply()}},{kind:"method",key:"_cancelDateRange",value:function(){this._dateRangePicker.clickCancel()}},{kind:"method",key:"_applyDateRange",value:function(){this._dateRangePicker.clickedApply()}},{kind:"get",key:"_dateRangePicker",value:function(){return this.shadowRoot.querySelector("date-range-picker").vueComponent.$children[0]}},{kind:"method",key:"_handleInputClick",value:function(){this._dateRangePicker.open&&(this._dateRangePicker.open=!1)}},{kind:"method",key:"_handleClick",value:function(){if(!this._dateRangePicker.open&&!this.openingDirection){var e,t=this.getBoundingClientRect().x;e=t>2*window.innerWidth/3?"left":t<window.innerWidth/3?"right":"center",this._calcedOpeningDirection=e}}},{kind:"get",static:!0,key:"styles",value:function(){return(0,C.AH)(F||(F=(0,a.A)(["ha-svg-icon{margin-right:8px;margin-inline-end:8px;margin-inline-start:initial;direction:var(--direction)}ha-icon-button{direction:var(--direction)}.date-range-inputs{display:flex;align-items:center}.date-range-ranges{border-right:1px solid var(--divider-color)}.date-range-footer{display:flex;justify-content:flex-end;padding:8px;border-top:1px solid var(--divider-color)}ha-textfield{display:inline-block;max-width:250px;min-width:220px}ha-textfield:last-child{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial;direction:var(--direction)}@media only screen and (max-width:800px){.date-range-ranges{border-right:none;border-bottom:1px solid var(--divider-color)}}@media only screen and (max-width:500px){ha-textfield{min-width:inherit}ha-svg-icon{display:none}}"])))}}]}}),C.WF),r(),e.next=69;break;case 66:e.prev=66,e.t2=e.catch(0),r(e.t2);case 69:case"end":return e.stop()}}),e,null,[[0,66]])})));return function(t,n){return e.apply(this,arguments)}}())},42398:function(e,t,n){var r,i,a,s,o=n(6238),c=n(36683),l=n(89231),u=n(29864),d=n(83647),h=n(8364),f=n(76504),p=n(80792),g=(n(77052),n(94400)),v=n(65050),m=n(40924),y=n(196),_=n(51150);(0,h.A)([(0,y.EM)("ha-textfield")],(function(e,t){var n=function(t){function n(){var t;(0,l.A)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=(0,u.A)(this,n,[].concat(i)),e(t),t}return(0,d.A)(n,t),(0,c.A)(n)}(t);return{F:n,d:[{kind:"field",decorators:[(0,y.MZ)({type:Boolean})],key:"invalid",value:function(){return!1}},{kind:"field",decorators:[(0,y.MZ)({attribute:"error-message"})],key:"errorMessage",value:void 0},{kind:"field",decorators:[(0,y.MZ)({type:Boolean})],key:"icon",value:function(){return!1}},{kind:"field",decorators:[(0,y.MZ)({type:Boolean})],key:"iconTrailing",value:function(){return!1}},{kind:"field",decorators:[(0,y.MZ)()],key:"autocomplete",value:void 0},{kind:"field",decorators:[(0,y.MZ)()],key:"autocorrect",value:void 0},{kind:"field",decorators:[(0,y.MZ)({attribute:"input-spellcheck"})],key:"inputSpellcheck",value:void 0},{kind:"field",decorators:[(0,y.P)("input")],key:"formElement",value:void 0},{kind:"method",key:"updated",value:function(e){(0,f.A)((0,p.A)(n.prototype),"updated",this).call(this,e),(e.has("invalid")&&(this.invalid||void 0!==e.get("invalid"))||e.has("errorMessage"))&&(this.setCustomValidity(this.invalid?this.errorMessage||"Invalid":""),this.reportValidity()),e.has("autocomplete")&&(this.autocomplete?this.formElement.setAttribute("autocomplete",this.autocomplete):this.formElement.removeAttribute("autocomplete")),e.has("autocorrect")&&(this.autocorrect?this.formElement.setAttribute("autocorrect",this.autocorrect):this.formElement.removeAttribute("autocorrect")),e.has("inputSpellcheck")&&(this.inputSpellcheck?this.formElement.setAttribute("spellcheck",this.inputSpellcheck):this.formElement.removeAttribute("spellcheck"))}},{kind:"method",key:"renderIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?"trailing":"leading";return(0,m.qy)(r||(r=(0,o.A)([' <span class="mdc-text-field__icon mdc-text-field__icon--','" tabindex="','"> <slot name="','Icon"></slot> </span> '])),n,t?1:-1,n)}},{kind:"field",static:!0,key:"styles",value:function(){return[v.R,(0,m.AH)(i||(i=(0,o.A)([".mdc-text-field__input{width:var(--ha-textfield-input-width,100%)}.mdc-text-field:not(.mdc-text-field--with-leading-icon){padding:var(--text-field-padding,0px 16px)}.mdc-text-field__affix--suffix{padding-left:var(--text-field-suffix-padding-left,12px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,12px);padding-inline-end:var(--text-field-suffix-padding-right,0px);direction:ltr}.mdc-text-field--with-leading-icon{padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,16px);direction:var(--direction)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:var(--text-field-suffix-padding-left,0px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,0px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:var(--secondary-text-color)}.mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field__icon--leading{margin-inline-start:16px;margin-inline-end:8px;direction:var(--direction)}.mdc-text-field__icon--trailing{padding:var(--textfield-icon-trailing-padding,12px)}.mdc-floating-label:not(.mdc-floating-label--float-above){text-overflow:ellipsis;width:inherit;padding-right:30px;padding-inline-end:30px;padding-inline-start:initial;box-sizing:border-box;direction:var(--direction)}input{text-align:var(--text-field-text-align,start)}::-ms-reveal{display:none}:host([no-spinner]) input::-webkit-inner-spin-button,:host([no-spinner]) input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}:host([no-spinner]) input[type=number]{-moz-appearance:textfield}.mdc-text-field__ripple{overflow:hidden}.mdc-text-field{overflow:var(--text-field-overflow)}.mdc-floating-label{inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start);direction:var(--direction);text-align:var(--float-start)}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px - var(--text-field-suffix-padding-left,0px));inset-inline-start:calc(48px + var(--text-field-suffix-padding-left,0px))!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__input[type=number]{direction:var(--direction)}.mdc-text-field__affix--prefix{padding-right:var(--text-field-prefix-padding-right,2px);padding-inline-end:var(--text-field-prefix-padding-right,2px);padding-inline-start:initial}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:var(--mdc-text-field-label-ink-color)}"]))),"rtl"===_.G.document.dir?(0,m.AH)(a||(a=(0,o.A)([".mdc-floating-label,.mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field__icon--leading,.mdc-text-field__input[type=number]{direction:rtl;--direction:rtl}"]))):(0,m.AH)(s||(s=(0,o.A)([""])))]}}]}}),g.J)},95273:function(e,t,n){var r,i=n(6238),a=n(36683),s=n(89231),o=n(29864),c=n(83647),l=n(8364),u=(n(77052),n(91619)),d=n(80346),h=n(40924),f=n(196);(0,l.A)([(0,f.EM)("ha-top-app-bar-fixed")],(function(e,t){var n=function(t){function n(){var t;(0,s.A)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=(0,o.A)(this,n,[].concat(i)),e(t),t}return(0,c.A)(n,t),(0,a.A)(n)}(t);return{F:n,d:[{kind:"field",static:!0,key:"styles",value:function(){return[d.R,(0,h.AH)(r||(r=(0,i.A)([".mdc-top-app-bar__row{height:var(--header-height);border-bottom:var(--app-header-border-bottom)}.mdc-top-app-bar--fixed-adjust{padding-top:var(--header-height)}.mdc-top-app-bar{--mdc-typography-headline6-font-weight:400;color:var(--app-header-text-color,var(--mdc-theme-on-primary,#fff));background-color:var(--app-header-background-color,var(--mdc-theme-primary))}.mdc-top-app-bar__title{padding-inline-start:20px;padding-inline-end:initial}"])))]}}]}}),u.$)},60280:function(e,t,n){n.d(t,{JW:function(){return p},TC:function(){return s},VN:function(){return o},Vx:function(){return c},XQ:function(){return h},eM:function(){return u},iH:function(){return l},k3:function(){return f},m4:function(){return i},qf:function(){return a},yv:function(){return d}});var r=n(61780),i=(n(14460),n(43859),["migration_error","setup_error","setup_retry"]),a=["not_loaded","loaded","setup_error","setup_retry"],s=function(e,t,n){var r={type:"config_entries/subscribe"};return n&&n.type&&(r.type_filter=n.type),e.connection.subscribeMessage((function(e){return t(e)}),r)},o=function(e,t){var n={};return t&&(t.type&&(n.type_filter=t.type),t.domain&&(n.domain=t.domain)),e.callWS(Object.assign({type:"config_entries/get"},n))},c=function(e,t){return e.callWS({type:"config_entries/get_single",entry_id:t})},l=function(e,t,n){return e.callWS(Object.assign({type:"config_entries/update",entry_id:t},n))},u=function(e,t){return e.callApi("DELETE","config/config_entries/entry/".concat(t))},d=function(e,t){return e.callApi("POST","config/config_entries/entry/".concat(t,"/reload"))},h=function(e,t){return e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:"user"})},f=function(e,t){return e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:null})},p=function(e,t){var n=(0,r.A)(e),i=function(e){var n=t[e.domain];return"helper"===(null==n?void 0:n.integration_type)?-1:1};return n.sort((function(e,t){return i(t)-i(e)}))}},41525:function(e,t,n){var r=n(1781).A,i=n(94881).A;n.a(e,function(){var e=r(i().mark((function e(r,a){var s,o,c,l,u,d,h,f,p,g,v,m,y,_,k,b,x,w,A,D,S,O,E,C,P,z,M,R,T,H,W,L,j,Z,q,V,B,I,N,F,U,$,K,G,J,Y,Q,X,ee,te,ne,re,ie,ae,se,oe,ce,le,ue,de,he,fe,pe,ge,ve,me;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.d(t,{AN:function(){return oe},B2:function(){return ne},BV:function(){return te},E$:function(){return se},GW:function(){return ee},KJ:function(){return ge},Q4:function(){return Y},RB:function(){return G},WN:function(){return ie},X4:function(){return me},_d:function(){return pe},al:function(){return he},bs:function(){return re},c:function(){return X},m7:function(){return K},oU:function(){return Q},tb:function(){return de},uh:function(){return J},yM:function(){return ve}}),s=n(539),o=n(61780),c=n(66123),l=n(94881),u=n(1781),d=n(27934),h=n(77052),f=n(53501),p=n(21950),g=n(36724),v=n(71936),m=n(43859),y=n(68113),_=n(84368),k=n(55888),b=n(34517),x=n(56262),w=n(97754),A=n(66274),D=n(84531),S=n(98168),O=n(34290),E=n(8339),C=n(81438),P=n(72502),z=n(57442),M=n(39937),R=n(23177),T=n(94061),H=n(87930),W=n(93352),L=n(79113),j=n(84749),Z=n(99955),q=n(72586),V=n(60441),B=n(47186),I=n(60280),N=n(74959),!(F=r([q,V])).then){e.next=67;break}return e.next=63,F;case 63:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=68;break;case 67:e.t0=F;case 68:U=e.t0,q=U[0],V=U[1],$=[],K=function(){return{stat_energy_from:"",stat_cost:null,entity_energy_price:null,number_energy_price:null}},G=function(){return{stat_energy_to:"",stat_compensation:null,entity_energy_price:null,number_energy_price:null}},J=function(){return{type:"grid",flow_from:[],flow_to:[],cost_adjustment_day:0}},Y=function(){return{type:"solar",stat_energy_from:"",config_entry_solar_forecast:null}},Q=function(){return{type:"battery",stat_energy_from:"",stat_energy_to:""}},X=function(){return{type:"gas",stat_energy_from:"",stat_cost:null,entity_energy_price:null,number_energy_price:null}},ee=function(){return{type:"water",stat_energy_from:"",stat_cost:null,entity_energy_price:null,number_energy_price:null}},te=function(e){return e.callWS({type:"energy/info"})},ne=function(){var e=(0,u.A)((0,l.A)().mark((function e(t){return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadBackendTranslation("issues","energy");case 2:return e.abrupt("return",t.callWS({type:"energy/validate"}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(e){return e.callWS({type:"energy/get_prefs"})},ie=function(){var e=(0,u.A)((0,l.A)().mark((function e(t,n){var r;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.callWS(Object.assign({type:"energy/save_prefs"},n)),le(t),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ae=function(){var e=(0,u.A)((0,l.A)().mark((function e(t,n,r,i,a){var s,o=arguments;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=o.length>5&&void 0!==o[5]?o[5]:"hour",e.abrupt("return",t.callWS({type:"energy/fossil_energy_consumption",start_time:n.toISOString(),end_time:null==a?void 0:a.toISOString(),energy_statistic_ids:r,co2_statistic_id:i,period:s}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),se=function(e){return(0,B.$)(e.energy_sources,(function(e){return e.type}))},oe=function(e,t,n){var r,i=[],a=(0,c.A)(e.energy_sources);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(!n||n.includes(s.type))if("solar"!==s.type)if("gas"!==s.type&&"water"!==s.type)if("battery"!==s.type){var l,u=(0,c.A)(s.flow_from);try{for(u.s();!(l=u.n()).done;){var d=l.value;i.push(d.stat_energy_from),d.stat_cost&&i.push(d.stat_cost);var h=t.cost_sensors[d.stat_energy_from];h&&i.push(h)}}catch(y){u.e(y)}finally{u.f()}var f,p=(0,c.A)(s.flow_to);try{for(p.s();!(f=p.n()).done;){var g=f.value;i.push(g.stat_energy_to),g.stat_compensation&&i.push(g.stat_compensation);var v=t.cost_sensors[g.stat_energy_to];v&&i.push(v)}}catch(y){p.e(y)}finally{p.f()}}else i.push(s.stat_energy_from),i.push(s.stat_energy_to);else{i.push(s.stat_energy_from),s.stat_cost&&i.push(s.stat_cost);var m=t.cost_sensors[s.stat_energy_from];m&&i.push(m)}else i.push(s.stat_energy_from)}}catch(y){a.e(y)}finally{a.f()}return n&&!n.includes("device")||i.push.apply(i,(0,o.A)(e.device_consumption.map((function(e){return e.stat_consumption})))),i},ce=function(){var e=(0,u.A)((0,l.A)().mark((function e(t,n,r,i,a){var u,d,h,f,p,g,v,m,y,_,k,b,x,w,A,D,S,O,E,W,L,j,Z,V,B,F,U,$,K,G,J,Y,Q,X,ee,ne,re,ie,se,ce,le,ue,de,he,fe,pe,ge;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([(0,I.VN)(t,{domain:"co2signal"}),te(t)]);case 2:if(u=e.sent,d=(0,s.A)(u,2),h=d[0],f=d[1],!(p=h.length?h[0]:void 0)){e.next=21;break}v=0,m=Object.values(t.entities);case 9:if(!(v<m.length)){e.next=21;break}if("co2signal"===(y=m[v]).platform){e.next=13;break}return e.abrupt("continue",18);case 13:if((_=t.states[y.entity_id])&&"%"===_.attributes.unit_of_measurement){e.next=16;break}return e.abrupt("continue",18);case 16:return g=_.entity_id,e.abrupt("break",21);case 18:v++,e.next=9;break;case 21:k=[],b=(0,c.A)(n.energy_sources);try{for(b.s();!(x=b.n()).done;)if("grid"===(w=x.value).type){A=(0,c.A)(w.flow_from);try{for(A.s();!(D=A.n()).done;)S=D.value,k.push(S.stat_energy_from)}catch(l){A.e(l)}finally{A.f()}}}catch(l){b.e(l)}finally{b.f()}return O=oe(n,f,["grid","solar","battery","gas","device"]),E=oe(n,f,["water"]),W=[].concat((0,o.A)(O),(0,o.A)(E)),L=(0,C.c)(i||new Date,r),j=L>35?"month":L>2?"day":"hour",Z=t.config.unit_system.length||"",V={energy:"kWh",volume:"km"===Z?"m³":"ft³"},B={volume:"km"===Z?"L":"gal"},F=O.length?(0,N.sz)(t,r,i,O,j,V,["change"]):{},U=E.length?(0,N.sz)(t,r,i,E,j,B,["change"]):{},J={},Y={},a&&(K=(0,q.xo)(r,P.e,t.locale,t.config)&&(0,q.xo)(i||new Date,z.c,t.locale,t.config)?(0,q.ol)(r,M.P,t.locale,t.config,-(0,q.EO)(i||new Date,r,R.W,t.locale,t.config)-1):(0,q.ol)(r,T.f,t.locale,t.config,-1*(L+1)),G=(0,H.A)(r,-1),O.length&&(J=(0,N.sz)(t,K,G,O,j,V,["change"])),E.length&&(Y=(0,N.sz)(t,K,G,E,j,B,["change"]))),void 0!==g&&(Q=ae(t,r,k,g,i,L>35?"month":L>2?"day":"hour"),a&&(X=ae(t,K,k,g,G,L>35?"month":L>2?"day":"hour"))),ee={},ne=W.length?(0,N.Wr)(t,W):[],e.next=42,Promise.all([F,U,J,Y,ne,Q,X]);case 42:return re=e.sent,ie=(0,s.A)(re,7),se=ie[0],ce=ie[1],le=ie[2],ue=ie[3],de=ie[4],he=ie[5],fe=ie[6],pe=Object.assign(Object.assign({},se),ce),a&&($=Object.assign(Object.assign({},le),ue)),W.length&&de.forEach((function(e){ee[e.statistic_id]=e})),ge={start:r,end:i,startCompare:K,endCompare:G,info:f,prefs:n,stats:pe,statsMetadata:ee,statsCompare:$,co2SignalConfigEntry:p,co2SignalEntity:g,fossilEnergyConsumption:he,fossilEnergyConsumptionCompare:fe},e.abrupt("return",ge);case 56:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),le=function(e){$.forEach((function(t){var n=de(e,{key:t});n.clearPrefs(),n._active&&n.refresh()}))},ue=function(e){if(e._refreshTimeout&&clearTimeout(e._refreshTimeout),e._active&&(!e.end||e.end>new Date)){var t=new Date;t.getMinutes()>=20&&t.setHours(t.getHours()+1),t.setMinutes(20,0,0),e._refreshTimeout=window.setTimeout((function(){return e.refresh()}),t.getTime()-Date.now())}},de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="_energy";if(t.key){if(!t.key.startsWith("energy_"))throw new Error("Key need to start with energy_");n="_".concat(t.key)}if(e.connection[n])return e.connection[n];$.push(t.key);var r=(0,Z.X)(e.connection,n,(0,u.A)((0,l.A)().mark((function t(){return(0,l.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.prefs){t.next=4;break}return t.next=3,re(e);case 3:r.prefs=t.sent;case 4:return ue(r),t.abrupt("return",ce(e,r.prefs,r.start,r.end,r.compare));case 6:case"end":return t.stop()}}),t)})))),i=r.subscribe;r.subscribe=function(e){var t=i(e);return r._active++,void 0===r._refreshTimeout&&ue(r),function(){r._active--,r._active<1&&(clearTimeout(r._refreshTimeout),r._refreshTimeout=void 0),t()}},r._active=0,r.prefs=t.prefs;var a=new Date,s=(0,V.LW)(a,e.locale,e.config).split(":")[0];r.start=(0,q.ol)("0"===s?(0,T.f)(a,-1):a,W.o,e.locale,e.config),r.end=(0,q.ol)("0"===s?(0,T.f)(a,-1):a,L.D,e.locale,e.config);var o=function t(){r._updatePeriodTimeout=window.setTimeout((function(){r.start=(0,q.ol)(new Date,W.o,e.locale,e.config),r.end=(0,q.ol)(new Date,L.D,e.locale,e.config),t()}),(0,j.L)((0,q.ol)(a,L.D,e.locale,e.config),1).getTime()-Date.now())};return o(),r.clearPrefs=function(){r.prefs=void 0},r.setPeriod=function(t,n){var i;r.start=t,r.end=n,r.start.getTime()!==(0,q.ol)(new Date,W.o,e.locale,e.config).getTime()||(null===(i=r.end)||void 0===i?void 0:i.getTime())!==(0,q.ol)(new Date,L.D,e.locale,e.config).getTime()||r._updatePeriodTimeout?r._updatePeriodTimeout&&(clearTimeout(r._updatePeriodTimeout),r._updatePeriodTimeout=void 0):o()},r.setCompare=function(e){r.compare=e},r},he=function(e){return e.callWS({type:"energy/solar_forecast"})},fe=["volume","energy"],pe=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=(0,c.A)(e.energy_sources);try{for(i.s();!(t=i.n()).done;){var a=t.value;if("gas"===a.type&&(!r||r!==a.stat_energy_from)){var s=n[a.stat_energy_from];if(fe.includes(null==s?void 0:s.unit_class))return s.unit_class}}}catch(o){i.e(o)}finally{i.f()}},ge=function(e,t){var n=pe(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});if(void 0!==n)return"energy"===n?"kWh":"km"===e.config.unit_system.length?"m³":"ft³"},ve=function(e){return"km"===e.config.unit_system.length?"L":"gal"},me="/docs/energy/faq/#troubleshooting-missing-entities",a(),e.next=102;break;case 99:e.prev=99,e.t2=e.catch(0),a(e.t2);case 102:case"end":return e.stop()}}),e,null,[[0,99]])})));return function(t,n){return e.apply(this,arguments)}}())},37382:function(e,t,n){n.d(t,{Gp:function(){return x},_4:function(){return A},fq:function(){return _},u7:function(){return k},Yd:function(){return y},f$:function(){return w}});var r=n(61780),i=n(94881),a=n(1781),s=(n(53501),n(21950),n(68113),n(55888),n(34517),n(56262),n(8339),n(47038)),o=n(25425),c=n(66596),l=n(18888),u=n(55279),d=function(e,t){var n=(0,c.t)(e),r=null!=t?t:e.state,i=e.attributes.device_class;switch(n){case"update":return function(e,t){return"on"===(null!=t?t:e.state)?(0,l.Jy)(e)?"mdi:package-down":"mdi:package-up":"mdi:package"}(e,r);case"sensor":if("battery"===i)return(0,u.t)(e,r);break;case"device_tracker":return function(e,t){var n=null!=t?t:e.state;return"router"===(null==e?void 0:e.attributes.source_type)?"home"===n?"mdi:lan-connect":"mdi:lan-disconnect":["bluetooth","bluetooth_le"].includes(null==e?void 0:e.attributes.source_type)?"home"===n?"mdi:bluetooth-connect":"mdi:bluetooth":"not_home"===n?"mdi:account-arrow-right":"mdi:account"}(e,r);case"sun":return"above_horizon"===r?"mdi:white-balance-sunny":"mdi:weather-night";case"input_datetime":if(!e.attributes.has_date)return"mdi:clock";if(!e.attributes.has_time)return"mdi:calendar"}},h=n(6699),f=n(91087),p={entity:{},entity_component:{},services:{domains:{}}},g=function(){var e=(0,a.A)((0,i.A)().mark((function e(t,n,r){return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.callWS({type:"frontend/get_icons",category:n,integration:r}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.A)((0,i.A)().mark((function e(t,n){var r,a=arguments;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.length>2&&void 0!==a[2]&&a[2]||!(n in p.entity)){e.next=3;break}return e.abrupt("return",p.entity[n]);case 3:if((0,h.x)(t,n)&&(0,f.v)(t.connection.haVersion,2024,2)){e.next=5;break}return e.abrupt("return",void 0);case 5:return r=g(t,"entity",n).then((function(e){return null==e?void 0:e.resources[n]})),p.entity[n]=r,e.abrupt("return",p.entity[n]);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.A)((0,i.A)().mark((function e(t,n){var a,s,o=arguments;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=o.length>2&&void 0!==o[2]&&o[2],e.next=3;break;case 3:if(s||!p.entity_component.resources||null===(a=p.entity_component.domains)||void 0===a||!a.includes(n)){e.next=5;break}return e.abrupt("return",p.entity_component.resources.then((function(e){return e[n]})));case 5:if((0,h.x)(t,n)){e.next=7;break}return e.abrupt("return",void 0);case 7:return p.entity_component.domains=(0,r.A)(t.config.components),p.entity_component.resources=g(t,"entity_component").then((function(e){return e.resources})),e.abrupt("return",p.entity_component.resources.then((function(e){return e[n]})));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=(0,a.A)((0,i.A)().mark((function e(t,n){var r,a,s=arguments;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]&&s[2],n){e.next=6;break}if(r||!p.services.all){e.next=4;break}return e.abrupt("return",p.services.all);case 4:return p.services.all=g(t,"services",n).then((function(e){return p.services.domains=e.resources,null==e?void 0:e.resources})),e.abrupt("return",p.services.all);case 6:if(r||!(n in p.services.domains)){e.next=8;break}return e.abrupt("return",p.services.domains[n]);case 8:if(!p.services.all||r){e.next=13;break}return e.next=11,p.services.all;case 11:if(!(n in p.services.domains)){e.next=13;break}return e.abrupt("return",p.services.domains[n]);case 13:if((0,h.x)(t,n)){e.next=15;break}return e.abrupt("return",void 0);case 15:return a=g(t,"services",n),p.services.domains[n]=a.then((function(e){return null==e?void 0:e.resources[n]})),e.abrupt("return",p.services.domains[n]);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=(0,a.A)((0,i.A)().mark((function e(t,n,r){var a,s,o;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(s=null===(a=t.entities)||void 0===a?void 0:a[n.entity_id])||!s.icon){e.next=3;break}return e.abrupt("return",s.icon);case 3:return o=(0,c.t)(n),e.abrupt("return",b(t,o,n,r,s));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),k=function(){var e=(0,a.A)((0,i.A)().mark((function e(t,n){var r,a;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.icon){e.next=2;break}return e.abrupt("return",n.icon);case 2:return r=t.states[n.entity_id],a=(0,s.m)(n.entity_id),e.abrupt("return",b(t,a,r,void 0,n));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=(0,a.A)((0,i.A)().mark((function e(t,n,r,a,s){var o,c,l,u,h,f,p,g,y,_,k,b;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=null==s?void 0:s.platform,c=null==s?void 0:s.translation_key,l=null==r?void 0:r.attributes.device_class,u=null!=a?a:null==r?void 0:r.state,!c||!o){e.next=9;break}return e.next=7,v(t,o);case 7:(f=e.sent)&&(y=null===(p=f[n])||void 0===p?void 0:p[c],h=u&&(null==y||null===(g=y.state)||void 0===g?void 0:g[u])||(null==y?void 0:y.default));case 9:if(!h&&r&&(h=d(r,u)),h){e.next=15;break}return e.next=13,m(t,n);case 13:(_=e.sent)&&(b=l&&_[l]||_._,h=u&&(null==b||null===(k=b.state)||void 0===k?void 0:k[u])||(null==b?void 0:b.default));case 15:return e.abrupt("return",h);case 16:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),x=function(){var e=(0,a.A)((0,i.A)().mark((function e(t,n,r,a){var s,o,l,u,d,h,f,p,g,y,_,k,b,x,w,A,D;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=(0,c.t)(n),u=n.attributes.device_class,d=null===(s=t.entities)||void 0===s?void 0:s[n.entity_id],h=null==d?void 0:d.platform,f=null==d?void 0:d.translation_key,p=null!=a?a:n.attributes[r],!f||!h){e.next=11;break}return e.next=9,v(t,h);case 9:(g=e.sent)&&(k=null===(y=g[l])||void 0===y||null===(y=y[f])||void 0===y||null===(y=y.state_attributes)||void 0===y?void 0:y[r],o=p&&(null==k||null===(_=k.state)||void 0===_?void 0:_[p])||(null==k?void 0:k.default));case 11:if(o){e.next=16;break}return e.next=14,m(t,l);case 14:(b=e.sent)&&(D=u&&(null===(x=b[u])||void 0===x||null===(x=x.state_attributes)||void 0===x?void 0:x[r])||(null===(w=b._)||void 0===w||null===(w=w.state_attributes)||void 0===w?void 0:w[r]),o=p&&(null==D||null===(A=D.state)||void 0===A?void 0:A[p])||(null==D?void 0:D.default));case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),w=function(){var e=(0,a.A)((0,i.A)().mark((function e(t,n){var r,a,c,l;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,s.m)(n),c=(0,o.Y)(n),e.next=4,y(t,a);case 4:if((l=e.sent)&&(r=l[c]),r){e.next=10;break}return e.next=9,A(t,a);case 9:r=e.sent;case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=(0,a.A)((0,i.A)().mark((function e(t,n,r){var a,s;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t,n);case 2:if(!(a=e.sent)){e.next=6;break}return s=r&&a[r]||a._,e.abrupt("return",null==s?void 0:s.default);case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},18888:function(e,t,n){n.d(t,{A_:function(){return _},Jy:function(){return p},TY:function(){return h},VK:function(){return f},W0:function(){return m},ev:function(){return g},nD:function(){return y}});var r=n(94881),i=n(1781),a=(n(69466),n(36724),n(14460),n(68113),n(84368),n(55888),n(66274),n(85038),n(98168),n(7383)),s=n(47038),o=n(66596),c=n(16327),l=n(95507),u=n(98876),d=n(75610),h=function(e){return e[e.INSTALL=1]="INSTALL",e[e.SPECIFIC_VERSION=2]="SPECIFIC_VERSION",e[e.PROGRESS=4]="PROGRESS",e[e.BACKUP=8]="BACKUP",e[e.RELEASE_NOTES=16]="RELEASE_NOTES",e}({}),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(e.state===a.Or||t&&Boolean(e.attributes.skipped_version))&&(0,c.$)(e,h.INSTALL)},p=function(e){return function(e){return(0,c.$)(e,h.PROGRESS)&&"number"==typeof e.attributes.in_progress}(e)||!!e.attributes.in_progress},g=function(e,t){return e.callWS({type:"update/release_notes",entity_id:t})},v=function(e,t){return Object.values(e).filter((function(e){return"update"===(0,o.t)(e)})).sort((function(e,n){return"Home Assistant Core"===e.attributes.title?-3:"Home Assistant Core"===n.attributes.title?3:"Home Assistant Operating System"===e.attributes.title?-2:"Home Assistant Operating System"===n.attributes.title?2:"Home Assistant Supervisor"===e.attributes.title?-1:"Home Assistant Supervisor"===n.attributes.title?1:(0,l.S)(e.attributes.title||e.attributes.friendly_name||"",n.attributes.title||n.attributes.friendly_name||"",t)}))},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v(e).filter((function(e){return f(e,t)}))},y=function(){var e=(0,i.A)((0,r.A)().mark((function e(t,n){var i,a,o;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=v(n.states,n.locale.language).map((function(e){return e.entity_id}))).length){e.next=4;break}return(0,u.showAlertDialog)(t,{title:n.localize("ui.panel.config.updates.no_update_entities.title"),text:n.localize("ui.panel.config.updates.no_update_entities.description"),warning:!0}),e.abrupt("return");case 4:return(0,d.P)(t,{message:n.localize("ui.panel.config.updates.checking_updates")}),a=0,e.next=8,n.connection.subscribeEvents((function(e){"update"===(0,s.m)(e.data.entity_id)&&(a++,(0,d.P)(t,{message:n.localize("ui.panel.config.updates.updates_refreshed",{count:a})}))}),"state_changed");case 8:return o=e.sent,e.next=11,n.callService("homeassistant","update_entity",{entity_id:i});case 11:return e.next=13,new Promise((function(e){setTimeout(e,15e3)}));case 13:o(),0===a&&(0,d.P)(t,{message:n.localize("ui.panel.config.updates.no_new_updates")});case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(e,t){var n=e.state,r=e.attributes;if("off"===n)return r.latest_version&&r.skipped_version===r.latest_version?r.latest_version:t.formatEntityState(e);if("on"===n&&p(e))return(0,c.$)(e,h.PROGRESS)&&"number"==typeof r.in_progress?t.localize("ui.card.update.installing_with_progress",{progress:r.in_progress}):t.localize("ui.card.update.installing");return t.formatEntityState(e)}},94027:function(e,t,n){n.d(t,{E:function(){return h}});var r=n(66123),i=n(36683),a=n(89231),s=n(29864),o=n(83647),c=n(8364),l=n(76504),u=n(80792),d=(n(77052),n(53501),n(21950),n(68113),n(55888),n(34517),n(66274),n(22836),n(8339),n(196)),h=function(e){var t=(0,c.A)(null,(function(e,t){var n=function(t){function n(){var t;(0,a.A)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=(0,s.A)(this,n,[].concat(i)),e(t),t}return(0,o.A)(n,t),(0,i.A)(n)}(t);return{F:n,d:[{kind:"field",decorators:[(0,d.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:void 0},{kind:"field",key:"__unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,l.A)((0,u.A)(n.prototype),"connectedCallback",this).call(this),this.__checkSubscribed()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,l.A)((0,u.A)(n.prototype),"disconnectedCallback",this).call(this),this.__unsubs){for(;this.__unsubs.length;){var e=this.__unsubs.pop();e instanceof Promise?e.then((function(e){return e()})):e()}this.__unsubs=void 0}}},{kind:"method",key:"updated",value:function(e){if((0,l.A)((0,u.A)(n.prototype),"updated",this).call(this,e),e.has("hass"))this.__checkSubscribed();else if(this.hassSubscribeRequiredHostProps){var t,i=(0,r.A)(e.keys());try{for(i.s();!(t=i.n()).done;){var a=t.value;if(this.hassSubscribeRequiredHostProps.includes(a))return void this.__checkSubscribed()}}catch(s){i.e(s)}finally{i.f()}}}},{kind:"method",key:"hassSubscribe",value:function(){return[]}},{kind:"method",key:"__checkSubscribed",value:function(){var e,t=this;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(e=this.hassSubscribeRequiredHostProps)&&void 0!==e&&e.some((function(e){return void 0===t[e]}))||(this.__unsubs=this.hassSubscribe())}}]}}),e);return t}},48632:function(e,t,n){var r=n(1781).A,i=n(94881).A;n.a(e,function(){var e=r(i().mark((function e(r,a){var s,o,c,l,u,d,h,f,p,g,v,m,y,_,k,b,x,w,A,D,S,O,E,C,P,z,M,R,T,H,W,L,j,Z,q,V,B,I,N,F,U,$,K,G,J,Y,Q,X,ee,te,ne,re,ie,ae,se,oe;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.r(t),s=n(94881),o=n(1781),c=n(6238),l=n(36683),u=n(89231),d=n(29864),h=n(83647),f=n(8364),p=n(77052),g=n(69466),v=n(35848),m=n(21950),y=n(53156),_=n(36724),k=n(71936),b=n(14460),x=n(43859),w=n(68113),A=n(84368),D=n(58971),S=n(57733),O=n(56262),E=n(66274),C=n(85038),P=n(84531),z=n(98168),M=n(15445),R=n(24483),T=n(13478),H=n(46355),W=n(14612),L=n(53691),j=n(48455),Z=n(34290),q=n(8339),V=n(29734),B=n(72134),I=n(7146),N=n(97157),F=n(56648),U=n(72435),$=n(40924),K=n(196),n(78361),n(39335),n(95273),G=n(14126),J=n(24168),Y=n(73097),Q=n(28825),X=n(41525),ee=n(27690),!(te=r([J,Y,X])).then){e.next=95;break}return e.next=91,te;case 91:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=96;break;case 95:e.t0=te;case 96:ne=e.t0,J=ne[0],Y=ne[1],X=ne[2],oe={views:[{strategy:{type:"energy"}}]},(0,f.A)([(0,K.EM)("ha-panel-energy")],(function(e,t){var n,r=function(t){function n(){var t;(0,u.A)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=(0,d.A)(this,n,[].concat(i)),e(t),t}return(0,h.A)(n,t),(0,l.A)(n)}(t);return{F:r,d:[{kind:"field",decorators:[(0,K.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,K.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:function(){return!1}},{kind:"field",decorators:[(0,K.wk)()],key:"_viewIndex",value:function(){return 0}},{kind:"field",decorators:[(0,K.wk)()],key:"_lovelace",value:void 0},{kind:"method",key:"willUpdate",value:function(e){if(this.hasUpdated||this.hass.loadFragmentTranslation("lovelace"),e.has("hass")){var t=e.get("hass");(null==t?void 0:t.locale)!==this.hass.locale&&this._setLovelace(),t&&t.localize!==this.hass.localize&&this._reloadView()}}},{kind:"method",key:"render",value:function(){var e;return(0,$.qy)(re||(re=(0,c.A)([' <div class="header"> <div class="toolbar"> <ha-menu-button slot="navigationIcon" .hass="','" .narrow="','"></ha-menu-button> ',' <hui-energy-period-selector .hass="','" collectionKey="energy_dashboard"> ',' <ha-list-item slot="overflow-menu" graphic="icon" @request-selected="','"> <ha-svg-icon slot="graphic" .path="','"> </ha-svg-icon> ',' </ha-list-item> </hui-energy-period-selector> </div> </div> <div id="view" @reload-energy-panel="','"> <hui-view .hass="','" .narrow="','" .lovelace="','" .index="','"></hui-view> </div> '])),this.hass,this.narrow,this.narrow?$.s6:(0,$.qy)(ie||(ie=(0,c.A)(['<div class="main-title"> '," </div>"])),this.hass.localize("panel.energy")),this.hass,null!==(e=this.hass.user)&&void 0!==e&&e.is_admin?(0,$.qy)(ae||(ae=(0,c.A)([' <ha-list-item slot="overflow-menu" graphic="icon" @request-selected="','"> <ha-svg-icon slot="graphic" .path="','"> </ha-svg-icon> '," </ha-list-item>"])),this._navigateConfig,"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",this.hass.localize("ui.panel.energy.configure")):$.s6,this._dumpCSV,"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",this.hass.localize("ui.panel.energy.download_data"),this._reloadView,this.hass,this.narrow,this._lovelace,this._viewIndex)}},{kind:"method",key:"_setLovelace",value:function(){var e,t;this._lovelace={config:oe,rawConfig:oe,editMode:!1,urlPath:"energy",mode:"generated",locale:this.hass.locale,enableFullEditMode:function(){},saveConfig:(t=(0,o.A)((0,s.A)().mark((function e(){return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),deleteConfig:(e=(0,o.A)((0,s.A)().mark((function e(){return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)}),setEditMode:function(){}}}},{kind:"method",key:"_navigateConfig",value:function(e){e.stopPropagation(),(0,Q.o)("/config/energy?historyBack=1")}},{kind:"method",key:"_dumpCSV",value:(n=(0,o.A)((0,s.A)().mark((function e(t){var n,r,i,a,o,c,l,u,d,h,f,p,g,v,m,y,_,k,b,x,w,A,D,S;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),(n=(0,X.tb)(this.hass,{key:"energy_dashboard"})).prefs&&n.state.stats){e.next=4;break}return e.abrupt("return");case 4:r=(0,X.KJ)(this.hass,n.prefs,n.state.statsMetadata)||"",i=(0,X.yM)(this.hass),a="kWh",o=n.prefs.energy_sources,c=n.prefs.device_consumption,l=n.state.stats,u=new Set,Object.values(l).forEach((function(e){e.forEach((function(e){u.add(e.start)}))})),d=Array.from(u).sort(),h="entity_id,type,unit,"+d.map((function(e){return new Date(e).toISOString()})).join(",")+"\n",(f=[])[0]=h,p=function(e,t,n){var r=0,i=[];l[e]&&(i.push(e),i.push(t),i.push(n.normalize("NFKD")),d.forEach((function(t){if(l[e][r].start>t)i.push("");else if(r<l[e].length&&l[e][r].start===t){var n;i.push((null!==(n=l[e][r].change)&&void 0!==n?n:"").toString()),r++}else i.push("")})),f.push(i.join(",")+"\n"))},g=this.hass.config.currency,v=function(e,t,r,i){t.length&&(t.forEach((function(t){return p(t,e,r)})),i&&t.forEach((function(e){var t=n.state.info.cost_sensors[e];n.state.info.cost_sensors[e]&&p(t,i,g)})))},m=[],y=[],o.filter((function(e){return"grid"===e.type})).forEach((function(e){e.flow_from.forEach((function(e){m.push(e.stat_energy_from)})),e.flow_to.forEach((function(e){y.push(e.stat_energy_to)}))})),v("grid_consumption",m,a,"grid_consumption_cost"),v("grid_return",y,a,"grid_return_compensation"),_=[],k=[],o.filter((function(e){return"battery"===e.type})).forEach((function(e){_.push(e.stat_energy_to),k.push(e.stat_energy_from)})),v("battery_in",_,a),v("battery_out",k,a),b=[],o.filter((function(e){return"solar"===e.type})).forEach((function(e){b.push(e.stat_energy_from)})),v("solar_production",b,a),x=[],o.filter((function(e){return"gas"===e.type})).forEach((function(e){x.push(e.stat_energy_from)})),v("gas_consumption",x,r,"gas_consumption_cost"),w=[],o.filter((function(e){return"water"===e.type})).forEach((function(e){w.push(e.stat_energy_from)})),v("water_consumption",w,i,"water_consumption_cost"),A=[],c.forEach((function(e){A.push(e.stat_consumption)})),v("device_consumption",A,a),D=new Blob(f,{type:"text/csv"}),S=window.URL.createObjectURL(D),(0,ee.R)(S,"energy.csv");case 44:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{kind:"method",key:"_reloadView",value:function(){var e=this._lovelace.config;this._lovelace=Object.assign(Object.assign({},this._lovelace),{},{config:Object.assign(Object.assign({},e),{},{views:[Object.assign({},e.views[0])]})})}},{kind:"get",static:!0,key:"styles",value:function(){return[G.RF,(0,$.AH)(se||(se=(0,c.A)([":host hui-energy-period-selector{width:100%;padding-left:32px;padding-inline-start:32px;padding-inline-end:initial;--disabled-text-color:rgba(var(--rgb-text-primary-color), 0.5);direction:var(--direction);--date-range-picker-max-height:calc(100vh - 80px)}:host([narrow]) hui-energy-period-selector{padding-left:0px;padding-inline-start:0px;padding-inline-end:initial}:host{-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none}.header{background-color:var(--app-header-background-color);color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);position:fixed;top:0;width:var(--mdc-top-app-bar-width,100%);padding-top:env(safe-area-inset-top);z-index:4;transition:box-shadow .2s linear;display:flex;flex-direction:row;-webkit-backdrop-filter:var(--app-header-backdrop-filter,none);backdrop-filter:var(--app-header-backdrop-filter,none)}:host([scrolled]) .header{box-shadow:var(--mdc-top-app-bar-fixed-box-shadow,0px 2px 4px -1px rgba(0,0,0,.2),0px 4px 5px 0px rgba(0,0,0,.14),0px 1px 10px 0px rgba(0,0,0,.12))}.toolbar{height:var(--header-height);display:flex;flex:1;align-items:center;font-size:20px;padding:0px 12px;font-weight:400;box-sizing:border-box}@media (max-width:599px){.toolbar{padding:0 4px}}.main-title{margin:var(--margin-title);line-height:20px;flex-grow:1}#view{position:relative;display:flex;padding-top:calc(var(--header-height) + env(safe-area-inset-top));min-height:100vh;box-sizing:border-box;padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right);padding-inline-start:env(safe-area-inset-left);padding-inline-end:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom);background:var(--lovelace-background,var(--primary-background-color))}#view>*{flex:1 1 100%;max-width:100%}"])))]}}]}}),$.WF),a(),e.next=110;break;case 107:e.prev=107,e.t2=e.catch(0),a(e.t2);case 110:case"end":return e.stop()}}),e,null,[[0,107]])})));return function(t,n){return e.apply(this,arguments)}}())},24168:function(e,t,n){var r=n(1781).A,i=n(94881).A;n.a(e,function(){var e=r(i().mark((function e(t,r){var a,s,o,c,l,u,d,h,f,p,g,v,m,y,_,k,b,x,w,A,D,S,O,E,C,P,z,M,R,T,H,W,L,j,Z,q,V,B,I,N,F,U,$,K,G,J;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=n(6238),s=n(23141),o=n(94881),c=n(1781),l=n(36683),u=n(89231),d=n(29864),h=n(83647),f=n(8364),p=n(76504),g=n(80792),v=n(74808),m=n(77052),n(34069),y=n(93352),_=n(79113),k=n(53026),b=n(56994),x=n(70249),w=n(21748),A=n(3889),D=n(77354),S=n(92627),O=n(11213),E=n(27890),C=n(81438),P=n(72502),z=n(57442),M=n(23177),R=n(39937),T=n(94061),H=n(42180),W=n(40924),L=n(196),j=n(45081),Z=n(72586),q=n(15263),V=n(77396),B=n(47394),n(59151),n(24630),I=n(20534),n(22609),n(84297),N=n(41525),F=n(94027),!(U=t([v,Z,q,V,I,N])).then){e.next=56;break}return e.next=52,U;case 52:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=57;break;case 56:e.t0=U;case 57:$=e.t0,v=$[0],Z=$[1],q=$[2],V=$[3],I=$[4],N=$[5],(0,f.A)([(0,L.EM)("hui-energy-period-selector")],(function(e,t){var n,r=function(t){function n(){var t;(0,u.A)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=(0,d.A)(this,n,[].concat(i)),e(t),t}return(0,h.A)(n,t),(0,l.A)(n)}(t);return{F:r,d:[{kind:"field",decorators:[(0,L.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,L.MZ)()],key:"collectionKey",value:void 0},{kind:"field",decorators:[(0,L.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,L.wk)()],key:"_startDate",value:void 0},{kind:"field",decorators:[(0,L.wk)()],key:"_endDate",value:void 0},{kind:"field",decorators:[(0,L.wk)()],key:"_ranges",value:function(){return{}}},{kind:"field",decorators:[(0,L.wk)()],key:"_compare",value:function(){return!1}},{kind:"field",key:"_resizeObserver",value:void 0},{kind:"method",key:"hassSubscribe",value:function(){var e=this;return[(0,N.tb)(this.hass,{key:this.collectionKey}).subscribe((function(t){return e._updateDates(t)}))]}},{kind:"method",key:"_measure",value:function(){this.narrow=this.offsetWidth<450}},{kind:"method",key:"_attachObserver",value:(n=(0,c.A)((0,o.A)().mark((function e(){var t=this;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._resizeObserver||(this._resizeObserver=new ResizeObserver((0,B.s)((function(){return t._measure()}),250,!1))),this._resizeObserver.observe(this);case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{kind:"method",key:"firstUpdated",value:function(){this._attachObserver()}},{kind:"method",key:"connectedCallback",value:function(){var e=this;(0,p.A)((0,g.A)(r.prototype),"connectedCallback",this).call(this),this.updateComplete.then((function(){return e._attachObserver()}))}},{kind:"method",key:"disconnectedCallback",value:function(){(0,p.A)((0,g.A)(r.prototype),"disconnectedCallback",this).call(this),this._resizeObserver&&this._resizeObserver.disconnect()}},{kind:"method",key:"willUpdate",value:function(e){var t,n;if((0,p.A)((0,g.A)(r.prototype),"willUpdate",this).call(this,e),this.hasUpdated||this._measure(),!this.hasUpdated||e.has("hass")&&(null===(t=this.hass)||void 0===t?void 0:t.localize)!==(null===(n=e.get("hass"))||void 0===n?void 0:n.localize)){var i=new Date,a=(0,q.PE)(this.hass.locale);this._ranges=(0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)({},this.hass.localize("ui.components.date-range-picker.ranges.today"),[(0,Z.ol)(i,y.o,this.hass.locale,this.hass.config,{weekStartsOn:a}),(0,Z.ol)(i,_.D,this.hass.locale,this.hass.config,{weekStartsOn:a})]),this.hass.localize("ui.components.date-range-picker.ranges.yesterday"),[(0,Z.ol)((0,Z.ol)(i,k.e,this.hass.locale,this.hass.config,1),y.o,this.hass.locale,this.hass.config,{weekStartsOn:a}),(0,Z.ol)((0,Z.ol)(i,k.e,this.hass.locale,this.hass.config,1),_.D,this.hass.locale,this.hass.config,{weekStartsOn:a})]),this.hass.localize("ui.components.date-range-picker.ranges.this_week"),[(0,Z.ol)(i,b.k,this.hass.locale,this.hass.config,{weekStartsOn:a}),(0,Z.ol)(i,x.$,this.hass.locale,this.hass.config,{weekStartsOn:a})]),this.hass.localize("ui.components.date-range-picker.ranges.this_month"),[(0,Z.ol)(i,w.w,this.hass.locale,this.hass.config),(0,Z.ol)(i,A.p,this.hass.locale,this.hass.config)]),this.hass.localize("ui.components.date-range-picker.ranges.this_quarter"),[(0,Z.ol)(i,D.a,this.hass.locale,this.hass.config),(0,Z.ol)(i,S.j,this.hass.locale,this.hass.config)]),this.hass.localize("ui.components.date-range-picker.ranges.this_year"),[(0,Z.ol)(i,O.D,this.hass.locale,this.hass.config),(0,Z.ol)(i,E.Q,this.hass.locale,this.hass.config)])}}},{kind:"method",key:"render",value:function(){if(!this.hass||!this._startDate)return W.s6;var e=this._simpleRange(this._startDate,this._endDate,this.hass.locale,this.hass.config);return(0,W.qy)(K||(K=(0,a.A)([' <div class="row"> <div class="label"> ',' </div> <div class="time-handle"> <ha-icon-button-prev .label="','" @click="','"></ha-icon-button-prev> <ha-icon-button-next .label="','" @click="','"></ha-icon-button-next> <ha-date-range-picker .hass="','" .startDate="','" .endDate="','" .ranges="','" @change="','" .timePicker="','" minimal></ha-date-range-picker> </div> ',' <ha-button-menu> <ha-icon-button slot="trigger" .label="','" .path="','"></ha-icon-button> <ha-check-list-item left @request-selected="','" .selected="','"> ',' </ha-check-list-item> <slot name="overflow-menu"></slot> </ha-button-menu> </div> '])),"day"===e?this.narrow?(0,V.kz)(this._startDate,this.hass.locale,this.hass.config):(0,V.Yq)(this._startDate,this.hass.locale,this.hass.config):"month"===e?(0,V.fr)(this._startDate,this.hass.locale,this.hass.config):"year"===e?(0,V.Pm)(this._startDate,this.hass.locale,this.hass.config):"".concat((0,V.sl)(this._startDate,this.hass.locale,this.hass.config)," – ").concat((0,V.sl)(this._endDate||new Date,this.hass.locale,this.hass.config)),this.hass.localize("ui.panel.lovelace.components.energy_period_selector.previous"),this._pickPrevious,this.hass.localize("ui.panel.lovelace.components.energy_period_selector.next"),this._pickNext,this.hass,this._startDate,this._endDate||new Date,this._ranges,this._dateRangeChanged,!1,this.narrow?W.s6:(0,W.qy)(G||(G=(0,a.A)(['<mwc-button dense outlined @click="','"> '," </mwc-button>"])),this._pickNow,this.hass.localize("ui.panel.lovelace.components.energy_period_selector.now")),this.hass.localize("ui.common.menu"),"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",this._toggleCompare,this._compare,this.hass.localize("ui.panel.lovelace.components.energy_period_selector.compare"))}},{kind:"field",key:"_simpleRange",value:function(){return(0,j.A)((function(e,t,n,r){if(0===(0,C.c)(t,e))return"day";if((0,Z.xo)(e,P.e,n,r)&&(0,Z.xo)(t,z.c,n,r)){if(0===(0,Z.EO)(t,e,M.W,n,r))return"month";if(2===(0,Z.EO)(t,e,M.W,n,r)&&e.getMonth()%3==0)return"quarter"}return(0,Z.xo)(e,P.e,n,r)&&(0,Z.xo)(t,z.c,n,r)&&11===(0,Z.EO)(t,e,M.W,n,r)?"year":"other"}))}},{kind:"method",key:"_updateCollectionPeriod",value:function(){var e=(0,N.tb)(this.hass,{key:this.collectionKey});e.setPeriod(this._startDate,this._endDate),e.refresh()}},{kind:"method",key:"_dateRangeChanged",value:function(e){var t=(0,q.PE)(this.hass.locale);this._startDate=(0,Z.ol)(e.detail.startDate,y.o,this.hass.locale,this.hass.config,{weekStartsOn:t}),this._endDate=(0,Z.ol)(e.detail.endDate,_.D,this.hass.locale,this.hass.config,{weekStartsOn:t}),this._updateCollectionPeriod()}},{kind:"method",key:"_pickNow",value:function(){if(this._startDate){var e=this._simpleRange(this._startDate,this._endDate,this.hass.locale,this.hass.config),t=new Date;if("month"===e)this._startDate=(0,Z.ol)(t,w.w,this.hass.locale,this.hass.config),this._endDate=(0,Z.ol)(t,A.p,this.hass.locale,this.hass.config);else if("quarter"===e)this._startDate=(0,Z.ol)(t,D.a,this.hass.locale,this.hass.config),this._endDate=(0,Z.ol)(t,S.j,this.hass.locale,this.hass.config);else if("year"===e)this._startDate=(0,Z.ol)(t,O.D,this.hass.locale,this.hass.config),this._endDate=(0,Z.ol)(t,E.Q,this.hass.locale,this.hass.config);else{var n=(0,q.PE)(this.hass.locale),r=(0,Z.ol)(this._endDate,b.k,this.hass.locale,this.hass.config,{weekStartsOn:n}),i=(0,Z.ol)(this._endDate,x.$,this.hass.locale,this.hass.config,{weekStartsOn:n});if(this._startDate.getTime()===r.getTime()&&this._endDate.getTime()===i.getTime())this._startDate=(0,Z.ol)(t,b.k,this.hass.locale,this.hass.config,{weekStartsOn:n}),this._endDate=(0,Z.ol)(t,x.$,this.hass.locale,this.hass.config,{weekStartsOn:n});else{var a=(0,Z.EO)(this._endDate,this._startDate,C.c,this.hass.locale,this.hass.config);this._startDate=(0,Z.ol)((0,Z.ol)(t,k.e,this.hass.locale,this.hass.config,a),y.o,this.hass.locale,this.hass.config,{weekStartsOn:n}),this._endDate=(0,Z.ol)(t,_.D,this.hass.locale,this.hass.config,{weekStartsOn:n})}}this._updateCollectionPeriod()}}},{kind:"method",key:"_pickPrevious",value:function(){this._shift(!1)}},{kind:"method",key:"_pickNext",value:function(){this._shift(!0)}},{kind:"method",key:"_shift",value:function(e){if(this._startDate){var t,n;if((0,Z.xo)(this._startDate,P.e,this.hass.locale,this.hass.config)&&(0,Z.xo)(this._endDate,z.c,this.hass.locale,this.hass.config)){var r=((0,Z.EO)(this._endDate,this._startDate,M.W,this.hass.locale,this.hass.config)+1)*(e?1:-1);t=(0,Z.ol)(this._startDate,R.P,this.hass.locale,this.hass.config,r),n=(0,Z.ol)((0,Z.ol)(this._endDate,R.P,this.hass.locale,this.hass.config,r),A.p,this.hass.locale,this.hass.config)}else{var i=((0,Z.EO)(this._endDate,this._startDate,C.c,this.hass.locale,this.hass.config)+1)*(e?1:-1);t=(0,Z.ol)(this._startDate,T.f,this.hass.locale,this.hass.config,i),n=(0,Z.ol)(this._endDate,T.f,this.hass.locale,this.hass.config,i)}this._startDate=t,this._endDate=n,this._updateCollectionPeriod()}}},{kind:"method",key:"_updateDates",value:function(e){this._compare=void 0!==e.startCompare,this._startDate=e.start,this._endDate=e.end||(0,H.o)()}},{kind:"method",key:"_toggleCompare",value:function(e){if("interaction"===e.detail.source){this._compare=e.detail.selected;var t=(0,N.tb)(this.hass,{key:this.collectionKey});t.setCompare(this._compare),t.refresh()}}},{kind:"get",static:!0,key:"styles",value:function(){return(0,W.AH)(J||(J=(0,a.A)([".row{display:flex;align-items:center}:host .time-handle{display:flex;justify-content:flex-end;align-items:center}:host([narrow]) .time-handle{margin-left:auto;margin-inline-start:auto;margin-inline-end:initial}.label{display:flex;align-items:center;justify-content:flex-end;font-size:20px;margin-left:auto;margin-inline-start:auto;margin-inline-end:initial}:host([narrow]) .label{margin-left:unset;margin-inline-start:unset;margin-inline-end:initial}mwc-button{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial;flex-shrink:0;--mdc-button-outline-color:currentColor;--primary-color:currentColor;--mdc-theme-primary:currentColor;--mdc-theme-on-primary:currentColor;--mdc-button-disabled-outline-color:var(--disabled-text-color);--mdc-button-disabled-ink-color:var(--disabled-text-color)}"])))}}]}}),(0,F.E)(W.WF)),r(),e.next=72;break;case 69:e.prev=69,e.t2=e.catch(0),r(e.t2);case 72:case"end":return e.stop()}}),e,null,[[0,69]])})));return function(t,n){return e.apply(this,arguments)}}())},27690:function(e,t,n){n.d(t,{R:function(){return r}});var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=document.createElement("a");n.target="_blank",n.href=e,n.download=t,document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click")),document.body.removeChild(n)}}}]);
//# sourceMappingURL=25637.aE4N0aI3cJY.js.map